# 区块链票据 Demo

## 关于区块链票据系统
- 该系统为作者参加2018阿里云全球区块链大赛复赛作品，参赛队伍名称：901d。未经作者允许不能用作任何商业用途以及转载传播，且此文档的版权归属901d所有。
- 底层平台使用的是[Hyperledger Fabric](https://github.com/hyperledger/fabric/tree/master/docs)，一个Linux基金会的开源项目，你可以通过链接进行一定了解。
- 该系统后端使用nodejs，框架参考了IBM的开源项目[Marbles](https://github.com/IBM-Blockchain/marbles)，该项目也意在帮助开发者了解fabric的链码与应用开发。
- 该系统的链码参考了ChainNova的开项目[trainingProjects](https://github.com/ChainNova/trainingProjects)
- 在线测试，[地址](http://47.100.238.193:3002/login)

### 版本
该Demo使用可以与**Hyperledger Fabric v1.2x v1.1x**兼容，其他版本未经测试。

## 应用背景
该Demo意在帮助票据流转过程中，简化票据操作流程，并且对每一步票据操作记入**Fabric**区块链账本中，使交易流程伴随票据可查询、可追溯，不可篡改；并且每一笔操作都会记录时间戳，帮助票据交易在联盟范围更透明、更高效。该Demo实现了**票据发布**，以及票据发布后的**票据背书**，以及票据被背书人的**签收票据**和**拒绝票据**。
### 票据属性
1. 票据号码 票据的唯一ID，在整个系统中**不可重复**，该ID为19位数字，不足19位会前置'0'补足。
2. 票据金额 票据的面额
3. 票据类型 票据的类別
4. 票据出票日期 票据的出票日期，格式：YYYY-MM-DD
5. 票据到期日期 票据的到期日期，格式：YYYY-MM-DD
6. 出票人名称 出票人的名称
7. 出票人的证件号 出票人的唯一标识，该Demo中该证件号前置'CIM'+15位数字，15位数字暂由出票人名称计算，其后的承兑人证件号，收款人证件号，持票人证件号相同处理。
8. 承兑人名称 承兑人的名称
9. 承兑人证件号 承兑人的唯一标识
10. 收款人名称 收款人的名称
11. 收款人证件号 收款人的唯一标识
12. 持票人名称 持票人的名称
13. 持票人证件号 持票人的唯一标识 

## 区块链票据启动
如果你想本地搭建**区块链票据**，并且过去未运行过Fabric网络请从第0步开始，如果你过去已经搭建过了Fabric网络请从第1步开始，如果你不想本地搭建区块链环境，你可以直接访问[区块链票据](http://47.100.238.193:3002/login)，该环境是我搭建在阿里云服务器上用于E2E的作品展示，并从第X步开始直接介绍区块链票据的主要功能。

本网络的系统环境：Ubuntu 16.04
### 0. 搭建本地Fabric环境
Fabric提供了本地docker环境的多节点部署，为app开发提供有力和方便的开发环境。

关于Fabric例程安装，[请移步](doc/env_setup.md)
### 1. 创建Fabric网络
完成本地Fabric环境搭建以后，我们需要创建一个Fabric网络，[创建fabcar网络](doc/get_network.md)。
### 2. 安装和实例化链码
完成了网络的部署工作，现在我们要部署区块链票据，首先[安装和实例化链码](doc/install_instantiate_chaincode.md)。
### 3. 启动区块链票据
完成了链码的安装和实例化，现在我们将要[启动区块链票据系统](doc/start_billsonbc.md)，来完成我们整个环境搭建任务
### 4. 区块链票据系统
完成0-3步的环境部署与安装，现在你可以正式进入区块链票据系统，[探索一番](doc/introduction.md)

如果你的时间非常宝贵，亦或者你着眼与应用而不是开发，你可以直接浏览[在线网站](http://47.100.238.193:3002/login)